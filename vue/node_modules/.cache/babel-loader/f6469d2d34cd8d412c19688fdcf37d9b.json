{"remainingRequest":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\src\\views\\verify.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\src\\views\\verify.vue","mtime":1744218331847},{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\babel.config.js","mtime":1718183300000},{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803514000},{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735803516000},{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803514000},{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1735803516000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmRlbGV0ZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5oYXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuc2l6ZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVmVyaWZ5VmlldycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3RJbmZvOiBudWxsLAogICAgICBsb2FkaW5nOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdyb3d0aFByb2dyZXNzKCkgewogICAgICBpZiAoIXRoaXMucHJvZHVjdEluZm8gfHwgIXRoaXMucHJvZHVjdEluZm8ucGxhbnRpbmdEYXRlIHx8ICF0aGlzLnByb2R1Y3RJbmZvLmhhcnZlc3REYXRlKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgICAgY29uc3QgcGxhbnREYXRlID0gbmV3IERhdGUodGhpcy5wcm9kdWN0SW5mby5wbGFudGluZ0RhdGUpOwogICAgICBjb25zdCBoYXJ2ZXN0RGF0ZSA9IG5ldyBEYXRlKHRoaXMucHJvZHVjdEluZm8uaGFydmVzdERhdGUpOwogICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7CgogICAgICAvLyDorqHnrpfmgLvlpKnmlbDlkozlt7Lnu4/ov4fljrvnmoTlpKnmlbAKICAgICAgY29uc3QgdG90YWxEYXlzID0gKGhhcnZlc3REYXRlIC0gcGxhbnREYXRlKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KTsKICAgICAgY29uc3QgcGFzc2VkRGF5cyA9IChjdXJyZW50RGF0ZSAtIHBsYW50RGF0ZSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCk7CgogICAgICAvLyDorqHnrpfnmb7liIbmr5TvvIzpmZDliLblnKgwLTEwMOS5i+mXtAogICAgICBsZXQgcHJvZ3Jlc3MgPSBwYXNzZWREYXlzIC8gdG90YWxEYXlzICogMTAwOwogICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgocHJvZ3Jlc3MsIDApLCAxMDApOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0RGF0ZShkYXRlU3RyaW5nKSB7CiAgICAgIGlmICghZGF0ZVN0cmluZykgcmV0dXJuICfmnKrorr7nva4nOwogICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7CiAgICAgIGlmIChpc05hTihkYXRlLmdldFRpbWUoKSkpIHJldHVybiBkYXRlU3RyaW5nOwogICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywgewogICAgICAgIHllYXI6ICdudW1lcmljJywKICAgICAgICBtb250aDogJ2xvbmcnLAogICAgICAgIGRheTogJ251bWVyaWMnCiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRQcm9kdWN0SW5mbygpIHsKICAgICAgdHJ5IHsKICAgICAgICAvLyDku45VUkzojrflj5bkuqflk4HmlbDmja4KICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwogICAgICAgIGNvbnN0IHByb2R1Y3REYXRhID0gdXJsUGFyYW1zLmdldCgnZGF0YScpOwogICAgICAgIGlmIChwcm9kdWN0RGF0YSkgewogICAgICAgICAgLy8g5bCd6K+V6Kej5p6QSlNPTuaVsOaNrgogICAgICAgICAgdGhpcy5wcm9kdWN0SW5mbyA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KHByb2R1Y3REYXRhKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOayoeacieaVsOaNruWPguaVsAogICAgICAgICAgdGhpcy5wcm9kdWN0SW5mbyA9IG51bGw7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6Kej5p6Q5Lqn5ZOB5pWw5o2u5aSx6LSlOicsIGUpOwogICAgICAgIHRoaXMucHJvZHVjdEluZm8gPSBudWxsOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8g6aG16Z2i5Yqg6L295a6M5oiQ5ZCO56uL5Y2z5Yqg6L295Lqn5ZOB5L+h5oGvCiAgICB0aGlzLmxvYWRQcm9kdWN0SW5mbygpOwogIH0KfTs="},{"version":3,"names":["name","data","productInfo","loading","computed","growthProgress","plantingDate","harvestDate","plantDate","Date","currentDate","totalDays","passedDays","progress","Math","min","max","methods","formatDate","dateString","date","isNaN","getTime","toLocaleDateString","year","month","day","loadProductInfo","urlParams","URLSearchParams","window","location","search","productData","get","JSON","parse","decodeURIComponent","e","console","error","mounted"],"sources":["src/views/verify.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mx-auto px-4 py-8 bg-gray-50\">\r\n        <!-- 导航栏 -->\r\n        <nav class=\"bg-white shadow-md p-4 rounded-lg mb-8\">\r\n            <div class=\"container mx-auto flex justify-between items-center\">\r\n                <div class=\"flex items-center\">\r\n                    <span class=\"text-xl font-bold text-green-700\">智慧农场溯源系统</span>\r\n                </div>\r\n                <div class=\"flex space-x-4\">\r\n                    <router-link to=\"/\" class=\"text-green-600 hover:text-green-800\">返回首页</router-link>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n\r\n        <!-- 主要内容 -->\r\n        <div class=\"main-content\">\r\n            <div class=\"container mx-auto px-4\">\r\n                <!-- 产品信息卡片 -->\r\n                <div v-if=\"productInfo\" class=\"bg-white rounded-lg shadow-md p-8 mb-8 fade-in\">\r\n                    <div class=\"flex justify-between items-start mb-6\">\r\n                        <h2 class=\"text-2xl font-bold text-green-700\">农产品溯源信息</h2>\r\n                        <div class=\"certificate w-20 h-20\"></div>\r\n                    </div>\r\n                    \r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n                        <!-- 产品基本信息 -->\r\n                        <div class=\"space-y-6 fade-in\">\r\n                            <div class=\"bg-green-50 p-4 rounded-lg border-l-4 border-green-500\">\r\n                                <h3 class=\"text-lg font-semibold text-green-700 mb-3\">产品基本信息</h3>\r\n                                <div class=\"space-y-2\">\r\n                                    <p class=\"flex justify-between\">\r\n                                        <span class=\"font-medium text-gray-600\">产品名称:</span>\r\n                                        <span class=\"text-gray-800\">{{ productInfo.productName }}</span>\r\n                                    </p>\r\n                                    <p v-if=\"productInfo.location\" class=\"flex justify-between\">\r\n                                        <span class=\"font-medium text-gray-600\">种植地点:</span>\r\n                                        <span class=\"text-gray-800\">{{ productInfo.location }}</span>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500\">\r\n                                <h3 class=\"text-lg font-semibold text-blue-700 mb-3\">时间信息</h3>\r\n                                <div class=\"space-y-2\">\r\n                                    <p v-if=\"productInfo.plantingDate\" class=\"flex justify-between\">\r\n                                        <span class=\"font-medium text-gray-600\">种植时间:</span>\r\n                                        <span class=\"text-gray-800\">{{ formatDate(productInfo.plantingDate) }}</span>\r\n                                    </p>\r\n                                    <p v-if=\"productInfo.harvestDate\" class=\"flex justify-between\">\r\n                                        <span class=\"font-medium text-gray-600\">收获时间:</span>\r\n                                        <span class=\"text-gray-800\">{{ formatDate(productInfo.harvestDate) }}</span>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <!-- 种植详情 -->\r\n                        <div class=\"space-y-6 fade-in\">\r\n                            <div v-if=\"productInfo.fertilizer\" class=\"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500\">\r\n                                <h3 class=\"text-lg font-semibold text-yellow-700 mb-3\">施肥记录</h3>\r\n                                <p class=\"text-gray-700 whitespace-pre-line\">{{ productInfo.fertilizer }}</p>\r\n                            </div>\r\n                            \r\n                            <div v-if=\"productInfo.pesticide\" class=\"bg-red-50 p-4 rounded-lg border-l-4 border-red-500\">\r\n                                <h3 class=\"text-lg font-semibold text-red-700 mb-3\">农药使用</h3>\r\n                                <p class=\"text-gray-700 whitespace-pre-line\">{{ productInfo.pesticide }}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- 生长周期可视化 -->\r\n                    <div v-if=\"productInfo.plantingDate && productInfo.harvestDate\" class=\"mt-8 fade-in\">\r\n                        <h3 class=\"text-lg font-semibold text-green-700 mb-4\">生长周期</h3>\r\n                        <div class=\"relative\">\r\n                            <div class=\"h-2 bg-gray-200 rounded-full\">\r\n                                <div class=\"h-2 bg-green-500 rounded-full\" :style=\"{width: growthProgress + '%'}\"></div>\r\n                            </div>\r\n                            <div class=\"flex justify-between mt-2\">\r\n                                <div class=\"text-xs text-gray-500\">种植日期<br>{{ formatDate(productInfo.plantingDate) }}</div>\r\n                                <div class=\"text-xs text-gray-500\">当前<br>{{ formatDate(new Date()) }}</div>\r\n                                <div class=\"text-xs text-gray-500\">收获日期<br>{{ formatDate(productInfo.harvestDate) }}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- 公司信息 -->\r\n                    <div class=\"mt-10 p-6 bg-green-700 text-white rounded-lg shadow-lg fade-in\">\r\n                        <h3 class=\"text-xl font-bold mb-4\">生产企业信息</h3>\r\n                        <div class=\"flex flex-col md:flex-row justify-between items-center\">\r\n                            <div>\r\n                                <p class=\"mb-2\">智慧农场溯源系统</p>\r\n                                <p class=\"mb-2\">科技赋能农业，智慧创造未来</p>\r\n                            </div>\r\n                            <div class=\"mt-4 md:mt-0\">\r\n                                <p class=\"mb-2\">公司网站: <a href=\"http://www.hl3344.space\" target=\"_blank\" class=\"underline\">www.hl3344.space</a></p>\r\n                                <p>联系电话: {{ productInfo.contact || '1862483344' }}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- 加载中或错误提示 -->\r\n                <div v-else class=\"bg-white rounded-lg shadow-md p-8 text-center\">\r\n                    <div v-if=\"loading\" class=\"py-10\">\r\n                        <svg class=\"animate-spin h-10 w-10 text-green-600 mx-auto\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                            <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                        </svg>\r\n                        <p class=\"mt-4 text-gray-600\">正在加载产品信息...</p>\r\n                    </div>\r\n                    <div v-else class=\"py-10\">\r\n                        <svg class=\"h-16 w-16 text-red-500 mx-auto\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                        </svg>\r\n                        <p class=\"mt-4 text-gray-600\">无法加载产品信息，请确认您的溯源码是否有效</p>\r\n                        <a href=\"index.html\" class=\"mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700\">返回首页</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 页脚 -->\r\n        <footer class=\"bg-green-800 text-white p-8 mt-8 rounded-lg\">\r\n            <div class=\"container mx-auto px-4\">\r\n                <div class=\"flex flex-col md:flex-row justify-between items-center\">\r\n                    <div>\r\n                        <h3 class=\"text-xl font-bold\">智慧农场溯源系统</h3>\r\n                        <p>科技赋能农业，智慧创造未来</p>\r\n                    </div>\r\n                    <div class=\"mt-4 md:mt-0\">\r\n                        <p>公司网站: <a href=\"http://www.hl3344.space\" target=\"_blank\" class=\"underline\">www.hl3344.space</a></p>\r\n                        <p>联系电话: 1862483344</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"mt-8 text-center\">\r\n                    <p>© 2025 智慧农场溯源系统. All rights reserved.</p>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'VerifyView',\r\n    data() {\r\n        return {\r\n            productInfo: null,\r\n            loading: true\r\n        };\r\n    },\r\n    computed: {\r\n        growthProgress() {\r\n            if (!this.productInfo || !this.productInfo.plantingDate || !this.productInfo.harvestDate) {\r\n                return 0;\r\n            }\r\n            \r\n            const plantDate = new Date(this.productInfo.plantingDate);\r\n            const harvestDate = new Date(this.productInfo.harvestDate);\r\n            const currentDate = new Date();\r\n            \r\n            // 计算总天数和已经过去的天数\r\n            const totalDays = (harvestDate - plantDate) / (1000 * 60 * 60 * 24);\r\n            const passedDays = (currentDate - plantDate) / (1000 * 60 * 60 * 24);\r\n            \r\n            // 计算百分比，限制在0-100之间\r\n            let progress = (passedDays / totalDays) * 100;\r\n            return Math.min(Math.max(progress, 0), 100);\r\n        }\r\n    },\r\n    methods: {\r\n        formatDate(dateString) {\r\n            if (!dateString) return '未设置';\r\n            \r\n            const date = new Date(dateString);\r\n            if (isNaN(date.getTime())) return dateString;\r\n            \r\n            return date.toLocaleDateString('zh-CN', {\r\n                year: 'numeric',\r\n                month: 'long',\r\n                day: 'numeric'\r\n            });\r\n        },\r\n        loadProductInfo() {\r\n            try {\r\n                // 从URL获取产品数据\r\n                const urlParams = new URLSearchParams(window.location.search);\r\n                const productData = urlParams.get('data');\r\n                \r\n                if (productData) {\r\n                    // 尝试解析JSON数据\r\n                    this.productInfo = JSON.parse(decodeURIComponent(productData));\r\n                } else {\r\n                    // 没有数据参数\r\n                    this.productInfo = null;\r\n                }\r\n            } catch (e) {\r\n                console.error('解析产品数据失败:', e);\r\n                this.productInfo = null;\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        // 页面加载完成后立即加载产品信息\r\n        this.loadProductInfo();\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.fade-in {\r\n    animation: fadeIn 0.5s ease-in-out;\r\n}\r\n@keyframes fadeIn {\r\n    from { opacity: 0; }\r\n    to { opacity: 1; }\r\n}\r\n.bg-pattern {\r\n    background-color: #f0f8f0;\r\n    background-image: linear-gradient(rgba(144, 238, 144, 0.1) 1px, transparent 1px),\r\n                    linear-gradient(90deg, rgba(144, 238, 144, 0.1) 1px, transparent 1px);\r\n    background-size: 20px 20px;\r\n}\r\n.certificate {\r\n    background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"0 0 100 100\"><circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"none\" stroke=\"%232c8c3c\" stroke-width=\"2\" stroke-dasharray=\"5,5\"/><path d=\"M30,50 L45,65 L70,35\" fill=\"none\" stroke=\"%232c8c3c\" stroke-width=\"3\"/></svg>');\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    background-size: 100px 100px;\r\n}\r\n</style>"],"mappings":";;;AA+IA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACAC,eAAA;MACA,UAAAH,WAAA,UAAAA,WAAA,CAAAI,YAAA,UAAAJ,WAAA,CAAAK,WAAA;QACA;MACA;MAEA,MAAAC,SAAA,OAAAC,IAAA,MAAAP,WAAA,CAAAI,YAAA;MACA,MAAAC,WAAA,OAAAE,IAAA,MAAAP,WAAA,CAAAK,WAAA;MACA,MAAAG,WAAA,OAAAD,IAAA;;MAEA;MACA,MAAAE,SAAA,IAAAJ,WAAA,GAAAC,SAAA;MACA,MAAAI,UAAA,IAAAF,WAAA,GAAAF,SAAA;;MAEA;MACA,IAAAK,QAAA,GAAAD,UAAA,GAAAD,SAAA;MACA,OAAAG,IAAA,CAAAC,GAAA,CAAAD,IAAA,CAAAE,GAAA,CAAAH,QAAA;IACA;EACA;EACAI,OAAA;IACAC,WAAAC,UAAA;MACA,KAAAA,UAAA;MAEA,MAAAC,IAAA,OAAAX,IAAA,CAAAU,UAAA;MACA,IAAAE,KAAA,CAAAD,IAAA,CAAAE,OAAA,YAAAH,UAAA;MAEA,OAAAC,IAAA,CAAAG,kBAAA;QACAC,IAAA;QACAC,KAAA;QACAC,GAAA;MACA;IACA;IACAC,gBAAA;MACA;QACA;QACA,MAAAC,SAAA,OAAAC,eAAA,CAAAC,MAAA,CAAAC,QAAA,CAAAC,MAAA;QACA,MAAAC,WAAA,GAAAL,SAAA,CAAAM,GAAA;QAEA,IAAAD,WAAA;UACA;UACA,KAAA/B,WAAA,GAAAiC,IAAA,CAAAC,KAAA,CAAAC,kBAAA,CAAAJ,WAAA;QACA;UACA;UACA,KAAA/B,WAAA;QACA;MACA,SAAAoC,CAAA;QACAC,OAAA,CAAAC,KAAA,cAAAF,CAAA;QACA,KAAApC,WAAA;MACA;QACA,KAAAC,OAAA;MACA;IACA;EACA;EACAsC,QAAA;IACA;IACA,KAAAd,eAAA;EACA;AACA","ignoreList":[]}]}