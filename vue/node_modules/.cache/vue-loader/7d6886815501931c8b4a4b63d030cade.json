{"remainingRequest":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\src\\views\\verify.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\src\\views\\verify.vue","mtime":1744245435177},{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803514000},{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735803516000},{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803514000},{"path":"C:\\Users\\86186\\Desktop\\SmartFarm\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1735803516000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ1ZlcmlmeVZpZXcnLA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBwcm9kdWN0SW5mbzogbnVsbCwNCiAgICAgICAgICAgIGxvYWRpbmc6IHRydWUNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIGdyb3d0aFByb2dyZXNzKCkgew0KICAgICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3RJbmZvIHx8ICF0aGlzLnByb2R1Y3RJbmZvLnBsYW50aW5nRGF0ZSB8fCAhdGhpcy5wcm9kdWN0SW5mby5oYXJ2ZXN0RGF0ZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBwbGFudERhdGUgPSBuZXcgRGF0ZSh0aGlzLnByb2R1Y3RJbmZvLnBsYW50aW5nRGF0ZSk7DQogICAgICAgICAgICBjb25zdCBoYXJ2ZXN0RGF0ZSA9IG5ldyBEYXRlKHRoaXMucHJvZHVjdEluZm8uaGFydmVzdERhdGUpOw0KICAgICAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyDorqHnrpfmgLvlpKnmlbDlkozlt7Lnu4/ov4fljrvnmoTlpKnmlbANCiAgICAgICAgICAgIGNvbnN0IHRvdGFsRGF5cyA9IChoYXJ2ZXN0RGF0ZSAtIHBsYW50RGF0ZSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCk7DQogICAgICAgICAgICBjb25zdCBwYXNzZWREYXlzID0gKGN1cnJlbnREYXRlIC0gcGxhbnREYXRlKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8g6K6h566X55m+5YiG5q+U77yM6ZmQ5Yi25ZyoMC0xMDDkuYvpl7QNCiAgICAgICAgICAgIGxldCBwcm9ncmVzcyA9IChwYXNzZWREYXlzIC8gdG90YWxEYXlzKSAqIDEwMDsNCiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChwcm9ncmVzcywgMCksIDEwMCk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZm9ybWF0RGF0ZShkYXRlU3RyaW5nKSB7DQogICAgICAgICAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiAn5pyq6K6+572uJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpOw0KICAgICAgICAgICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuIGRhdGVTdHJpbmc7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnemgtQ04nLCB7DQogICAgICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnLA0KICAgICAgICAgICAgICAgIG1vbnRoOiAnbG9uZycsDQogICAgICAgICAgICAgICAgZGF5OiAnbnVtZXJpYycNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICBsb2FkUHJvZHVjdEluZm8oKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIC8vIOS7jlVSTOiOt+WPluS6p+WTgeaVsOaNrg0KICAgICAgICAgICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7DQogICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdERhdGEgPSB1cmxQYXJhbXMuZ2V0KCdkYXRhJyk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKHByb2R1Y3REYXRhKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIOWwneivleino+aekEpTT07mlbDmja4NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0SW5mbyA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KHByb2R1Y3REYXRhKSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgLy8g5rKh5pyJ5pWw5o2u5Y+C5pWwDQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdEluZm8gPSBudWxsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfop6PmnpDkuqflk4HmlbDmja7lpLHotKU6JywgZSk7DQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0SW5mbyA9IG51bGw7DQogICAgICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgICAgICAvLyDpobXpnaLliqDovb3lrozmiJDlkI7nq4vljbPliqDovb3kuqflk4Hkv6Hmga8NCiAgICAgICAgdGhpcy5sb2FkUHJvZHVjdEluZm8oKTsNCiAgICB9DQp9Ow0K"},{"version":3,"sources":["verify.vue"],"names":[],"mappings":";AA+IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"verify.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"container mx-auto px-4 py-8 bg-gray-50\">\r\n        <!-- 导航栏 -->\r\n        <nav class=\"bg-white shadow-md p-4 rounded-lg mb-8\">\r\n            <div class=\"container mx-auto flex justify-between items-center\">\r\n                <div class=\"flex items-center\">\r\n                    <span class=\"text-xl font-bold text-green-700\">智慧农场溯源系统</span>\r\n                </div>\r\n                <div class=\"flex space-x-4\">\r\n                    <router-link to=\"/\" class=\"text-green-600 hover:text-green-800\">返回首页</router-link>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n\r\n        <!-- 主要内容 -->\r\n        <div class=\"main-content\">\r\n            <div class=\"container mx-auto px-4\">\r\n                <!-- 产品信息卡片 -->\r\n                <div v-if=\"productInfo\" class=\"bg-white rounded-lg shadow-md p-8 mb-8 fade-in\">\r\n                    <div class=\"flex justify-between items-start mb-6\">\r\n                        <h2 class=\"text-2xl font-bold text-green-700\">农产品溯源信息</h2>\r\n                        <div class=\"certificate w-20 h-20\"></div>\r\n                    </div>\r\n                    \r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n                        <!-- 产品基本信息 -->\r\n                        <div class=\"space-y-6 fade-in\">\r\n                            <div class=\"bg-green-50 p-4 rounded-lg border-l-4 border-green-500\">\r\n                                <h3 class=\"text-lg font-semibold text-green-700 mb-3\">产品基本信息</h3>\r\n                                <div class=\"space-y-2\">\r\n                                    <p class=\"flex justify-between\">\r\n                                        <span class=\"font-medium text-gray-600\">产品名称:</span>\r\n                                        <span class=\"text-gray-800\">{{ productInfo.productName }}</span>\r\n                                    </p>\r\n                                    <p v-if=\"productInfo.location\" class=\"flex justify-between\">\r\n                                        <span class=\"font-medium text-gray-600\">种植地点:</span>\r\n                                        <span class=\"text-gray-800\">{{ productInfo.location }}</span>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500\">\r\n                                <h3 class=\"text-lg font-semibold text-blue-700 mb-3\">时间信息</h3>\r\n                                <div class=\"space-y-2\">\r\n                                    <p v-if=\"productInfo.plantingDate\" class=\"flex justify-between\">\r\n                                        <span class=\"font-medium text-gray-600\">种植时间:</span>\r\n                                        <span class=\"text-gray-800\">{{ formatDate(productInfo.plantingDate) }}</span>\r\n                                    </p>\r\n                                    <p v-if=\"productInfo.harvestDate\" class=\"flex justify-between\">\r\n                                        <span class=\"font-medium text-gray-600\">收获时间:</span>\r\n                                        <span class=\"text-gray-800\">{{ formatDate(productInfo.harvestDate) }}</span>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <!-- 种植详情 -->\r\n                        <div class=\"space-y-6 fade-in\">\r\n                            <div v-if=\"productInfo.fertilizer\" class=\"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500\">\r\n                                <h3 class=\"text-lg font-semibold text-yellow-700 mb-3\">施肥记录</h3>\r\n                                <p class=\"text-gray-700 whitespace-pre-line\">{{ productInfo.fertilizer }}</p>\r\n                            </div>\r\n                            \r\n                            <div v-if=\"productInfo.pesticide\" class=\"bg-red-50 p-4 rounded-lg border-l-4 border-red-500\">\r\n                                <h3 class=\"text-lg font-semibold text-red-700 mb-3\">农药使用</h3>\r\n                                <p class=\"text-gray-700 whitespace-pre-line\">{{ productInfo.pesticide }}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- 生长周期可视化 -->\r\n                    <div v-if=\"productInfo.plantingDate && productInfo.harvestDate\" class=\"mt-8 fade-in\">\r\n                        <h3 class=\"text-lg font-semibold text-green-700 mb-4\">生长周期</h3>\r\n                        <div class=\"relative\">\r\n                            <div class=\"h-2 bg-gray-200 rounded-full\">\r\n                                <div class=\"h-2 bg-green-500 rounded-full\" :style=\"{width: growthProgress + '%'}\"></div>\r\n                            </div>\r\n                            <div class=\"flex justify-between mt-2\">\r\n                                <div class=\"text-xs text-gray-500\">种植日期<br>{{ formatDate(productInfo.plantingDate) }}</div>\r\n                                <div class=\"text-xs text-gray-500\">当前<br>{{ formatDate(new Date()) }}</div>\r\n                                <div class=\"text-xs text-gray-500\">收获日期<br>{{ formatDate(productInfo.harvestDate) }}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <!-- 公司信息 -->\r\n                    <div class=\"mt-10 p-6 bg-green-700 text-white rounded-lg shadow-lg fade-in\">\r\n                        <h3 class=\"text-xl font-bold mb-4\">生产企业信息</h3>\r\n                        <div class=\"flex flex-col md:flex-row justify-between items-center\">\r\n                            <div>\r\n                                <p class=\"mb-2\">智慧农场溯源系统</p>\r\n                                <p class=\"mb-2\">科技赋能农业，智慧创造未来</p>\r\n                            </div>\r\n                            <div class=\"mt-4 md:mt-0\">\r\n                                <p class=\"mb-2\">公司网站: <a href=\"http://www.hl3344.space\" target=\"_blank\" class=\"underline\">www.hl3344.space</a></p>\r\n                                <p>联系电话: {{ productInfo.contact || '1862483344' }}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- 加载中或错误提示 -->\r\n                <div v-else class=\"bg-white rounded-lg shadow-md p-8 text-center\">\r\n                    <div v-if=\"loading\" class=\"py-10\">\r\n                        <svg class=\"animate-spin h-10 w-10 text-green-600 mx-auto\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                            <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                        </svg>\r\n                        <p class=\"mt-4 text-gray-600\">正在加载产品信息...</p>\r\n                    </div>\r\n                    <div v-else class=\"py-10\">\r\n                        <svg class=\"h-16 w-16 text-red-500 mx-auto\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                        </svg>\r\n                        <p class=\"mt-4 text-gray-600\">无法加载产品信息，请确认您的溯源码是否有效</p>\r\n                        <a href=\"index.html\" class=\"mt-4 inline-block bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700\">返回首页</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 页脚 -->\r\n        <footer class=\"bg-green-800 text-white p-8 mt-8 rounded-lg\">\r\n            <div class=\"container mx-auto px-4\">\r\n                <div class=\"flex flex-col md:flex-row justify-between items-center\">\r\n                    <div>\r\n                        <h3 class=\"text-xl font-bold\">智慧农场溯源系统</h3>\r\n                        <p>科技赋能农业，智慧创造未来</p>\r\n                    </div>\r\n                    <div class=\"mt-4 md:mt-0\">\r\n                        <p>公司网站: <a href=\"http://www.hl3344.space\" target=\"_blank\" class=\"underline\">www.hl3344.space</a></p>\r\n                        <p>联系电话: 1862483344</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"mt-8 text-center\">\r\n                    <p>© 2025 智慧农场溯源系统. All rights reserved.</p>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'VerifyView',\r\n    data() {\r\n        return {\r\n            productInfo: null,\r\n            loading: true\r\n        };\r\n    },\r\n    computed: {\r\n        growthProgress() {\r\n            if (!this.productInfo || !this.productInfo.plantingDate || !this.productInfo.harvestDate) {\r\n                return 0;\r\n            }\r\n            \r\n            const plantDate = new Date(this.productInfo.plantingDate);\r\n            const harvestDate = new Date(this.productInfo.harvestDate);\r\n            const currentDate = new Date();\r\n            \r\n            // 计算总天数和已经过去的天数\r\n            const totalDays = (harvestDate - plantDate) / (1000 * 60 * 60 * 24);\r\n            const passedDays = (currentDate - plantDate) / (1000 * 60 * 60 * 24);\r\n            \r\n            // 计算百分比，限制在0-100之间\r\n            let progress = (passedDays / totalDays) * 100;\r\n            return Math.min(Math.max(progress, 0), 100);\r\n        }\r\n    },\r\n    methods: {\r\n        formatDate(dateString) {\r\n            if (!dateString) return '未设置';\r\n            \r\n            const date = new Date(dateString);\r\n            if (isNaN(date.getTime())) return dateString;\r\n            \r\n            return date.toLocaleDateString('zh-CN', {\r\n                year: 'numeric',\r\n                month: 'long',\r\n                day: 'numeric'\r\n            });\r\n        },\r\n        loadProductInfo() {\r\n            try {\r\n                // 从URL获取产品数据\r\n                const urlParams = new URLSearchParams(window.location.search);\r\n                const productData = urlParams.get('data');\r\n                \r\n                if (productData) {\r\n                    // 尝试解析JSON数据\r\n                    this.productInfo = JSON.parse(decodeURIComponent(productData));\r\n                } else {\r\n                    // 没有数据参数\r\n                    this.productInfo = null;\r\n                }\r\n            } catch (e) {\r\n                console.error('解析产品数据失败:', e);\r\n                this.productInfo = null;\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        // 页面加载完成后立即加载产品信息\r\n        this.loadProductInfo();\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.fade-in {\r\n    animation: fadeIn 0.5s ease-in-out;\r\n}\r\n@keyframes fadeIn {\r\n    from { opacity: 0; }\r\n    to { opacity: 1; }\r\n}\r\n.bg-pattern {\r\n    background-color: #f0f8f0;\r\n    background-image: linear-gradient(rgba(144, 238, 144, 0.1) 1px, transparent 1px),\r\n                    linear-gradient(90deg, rgba(144, 238, 144, 0.1) 1px, transparent 1px);\r\n    background-size: 20px 20px;\r\n}\r\n.certificate {\r\n    background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"0 0 100 100\"><circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"none\" stroke=\"%232c8c3c\" stroke-width=\"2\" stroke-dasharray=\"5,5\"/><path d=\"M30,50 L45,65 L70,35\" fill=\"none\" stroke=\"%232c8c3c\" stroke-width=\"3\"/></svg>');\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    background-size: 100px 100px;\r\n}\r\n</style>"]}]}